{% extends "layouts/base.html" %}
{% block content %}
  <div class="page-header">
    <h2>Роли</h2>
    <p>Справочник ролей с количеством привязанных пользователей и разрешений.</p>
  </div>
  {% if roles %}
    <div class="card">
      <table class="data-table">
        <thead>
          <tr>
            <th>Название</th>
            <th>Описание</th>
            <th>Разрешения</th>
            <th>Пользователи</th>
            <th>Изменено</th>
          </tr>
        </thead>
        <tbody>
          {% for role in roles %}
            <tr>
              <td>
                <a href="/admin/roles/{{ role.id }}">{{ role.name }}</a>
              </td>
              <td>{{ role.description or "—" }}</td>
              <td><span class="badge">{{ role.permission_count }}</span></td>
              <td><span class="badge">{{ role.user_count }}</span></td>
              <td>{{ role.updated_at or "—" }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <div class="empty-state">Роли ещё не настроены.</div>
  {% endif %}
{% endblock %}
